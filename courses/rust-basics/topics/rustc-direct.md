# トピック: rustcはいつ使うの？

## メタ情報

- **ID**: rustc-direct
- **難易度**: 初級
- **所要時間**: 4-6分（対話形式）/ 2分（読み物）
- **カテゴリ**: 開発ツール

## 前提知識

- Stage 2完了（cargo runを使ったことがある）

## このトピックで学べること

- rustcとcargoの違い
- rustcを直接使う場面
- 単一ファイルのコンパイル方法

## 関連ステージ

- Stage 2: Hello World（ここで登場）

## 要点（ドキュメント形式用）

### rustcとは

`rustc` はRustのコンパイラ本体です。普段は `cargo` が裏で `rustc` を呼び出しています。

### 直接使う場面

- 単一ファイルの簡単なプログラムをコンパイルするとき
- コンパイラの動作を詳しく理解したいとき
- 低レベルなビルド設定が必要なとき

### 使い方

```bash
# 単一ファイルをコンパイル
rustc main.rs

# 実行（Unix/Mac）
./main

# 実行（Windows）
.\main.exe
```

### cargoを使う理由

でも実際の開発では `cargo` を使うのが普通です：

- 依存関係の管理が簡単
- 複数ファイルのビルドが自動
- テスト、ドキュメント生成も一元管理
- プロジェクト構造が標準化される

## 対話形式の教え方ガイド（先生用）

### 導入

「cargo使ってるけど、rustcって直接使うことあるのか？と思ったことはないかな」

### 説明の流れ

1. **関係を説明**
   「cargoは裏でrustcを呼び出しているのじゃ」

2. **直接使ってみる**
   ```bash
   echo 'fn main() { println!("Hello!"); }' > hello.rs
   rustc hello.rs
   ./hello
   ```

3. **cargoを使う理由を説明**
   「でも普段はcargoを使う方が便利じゃ。依存関係の管理などが楽になるのじゃ」

## クリア条件（オプション）

- [ ] rustcとcargoの関係を説明できる
- [ ] rustcで単一ファイルをコンパイルできる
- [ ] cargoを使う利点を理解している

## 補足情報

### rustcのオプション

```bash
rustc --help           # ヘルプ表示
rustc -O main.rs       # 最適化ビルド
rustc --emit=asm main.rs  # アセンブリ出力
```

### 参考リンク

- rustcリファレンス: https://doc.rust-lang.org/rustc/
