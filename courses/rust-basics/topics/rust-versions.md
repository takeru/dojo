# トピック: 複数バージョンの管理

## メタ情報

- **ID**: rust-versions
- **難易度**: 初級
- **所要時間**: 5-8分（対話形式）/ 3分（読み物）
- **カテゴリ**: 環境構築

## 前提知識

- Stage 1完了（Rustがインストール済み）
- rustupの基本

## このトピックで学べること

- 複数のRustバージョンをインストールする方法
- バージョンを切り替える方法
- プロジェクトごとにバージョンを固定する方法

## 関連ステージ

- Stage 1: 環境構築（ここで登場）

## 要点（ドキュメント形式用）

### 特定バージョンをインストール

```bash
rustup install 1.70.0
rustup install 1.75.0
```

### グローバルに切り替え

```bash
rustup default 1.70.0  # 全体で1.70.0を使用
rustup default stable  # stableに戻す
```

### プロジェクトごとに設定

プロジェクトディレクトリに `rust-toolchain.toml` を置くと、そのプロジェクト専用のバージョンを使えます：

```toml
[toolchain]
channel = "1.70.0"
```

これにより、`cd` でそのディレクトリに入ると自動的にバージョンが切り替わります。

### 現在の状態を確認

```bash
rustup show
```

インストール済みのバージョンと、現在使用中のバージョンが表示されます。

## 対話形式の教え方ガイド（先生用）

### 導入

「古いプロジェクトのために昔のRustバージョンも使いたいことがあるのじゃ」

### 説明の流れ

1. **なぜ必要か説明**
   「チームで同じバージョンを使いたい、古いコードをメンテナンスしたい、などの場面があるのじゃ」

2. **インストールと切り替えを実演**
   ```bash
   rustup install 1.70.0
   rustup default 1.70.0
   rustc --version
   ```

3. **rust-toolchain.tomlを紹介**
   「これがあると、プロジェクトごとに自動でバージョンが変わるのじゃ」

4. **showコマンドで確認**
   ```bash
   rustup show
   ```

## クリア条件（オプション）

- [ ] `rustup install` で特定バージョンをインストールできる
- [ ] `rustup default` でバージョンを切り替えられる
- [ ] `rust-toolchain.toml` の役割を理解している

## 補足情報

### バージョンのアンインストール

不要になったバージョンは削除できます：

```bash
rustup uninstall 1.70.0
```

### 参考リンク

- rustup: https://rust-lang.github.io/rustup/overrides.html
